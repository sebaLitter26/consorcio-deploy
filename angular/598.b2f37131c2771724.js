"use strict";(self.webpackChunkconsorcio=self.webpackChunkconsorcio||[]).push([[598],{7598:(An,B,c)=>{c.r(B),c.d(B,{ConsorcioModule:()=>Tn});var x=c(5743),Z=c(7874),Q=c(7364),r=c(9417),W=c(977),q=c(7838),tt=c(9102),nt=c(7526),et=c(4337),it=c(4900),ot=c(5135),t=c(3953);let S=(()=>{class e{constructor(){this.tabIndex=0}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var N=c(6850),h=c(1413),A=c(9310),f=c(4006),_=c(2365),d=c(6354),u=c(4928);const at=u.J1`
query products{
  products{
    id
    name
    images
    price
    stock
    brand
    description
    updatedAt
  }
}
`,rt=u.J1`
query product($id: String!){
  product(id: $id) {
    id
    name
    images
    price
    stock
    brand
    description
    updatedAt
    }
}
`,st=u.J1`
    mutation createProduct($input: CreateProductDTO!) {
      createProduct(input: $input) {
        id
        name
        images
        price
        stock
        brand
        description
      }
    }
`,ct=u.J1`
    mutation updateProduct($input: UpdateProductDTO!) {
      updateProduct(input: $input) {
        id
        name
        images
        price
        stock
        brand
        description
      }
    }
`,lt=u.J1`
    mutation deleteProduct($id: String!) {
      deleteProduct(id: $id) {
        id
        name
        images
        price
        stock
        brand
        description
      }
    }
`;let k=(()=>{class e{constructor(n){this.apollo=n,this.updateProductEventSource=new h.B,this.updateProductEvent=this.updateProductEventSource.asObservable()}updateTable(){this.updateProductEventSource.next(!0)}getProducts(){return this.apollo.watchQuery({query:at,fetchPolicy:"network-only"}).valueChanges.pipe((0,d.T)(n=>n.data.products))}createProduct(n){return console.log(n),this.apollo.mutate({mutation:st,variables:{input:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.Product))}updateProduct(n){return this.apollo.mutate({mutation:ct,variables:{input:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.updateProduct))}deleteProduct(n){return this.apollo.mutate({mutation:lt,variables:{id:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.product))}getProductDetails(n){return this.apollo.mutate({mutation:rt,variables:{id:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.Product))}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(u.Ic))};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var m=c(177),P=c(8834),O=c(9213),R=c(9631),b=c(3719),$=c(9183),y=c(5649),G=c(9545);function pt(e,s){if(1&e){const n=t.RV6();t.j41(0,"app-cool-file-input",12),t.bIt("finalizaCarga",function(o){t.eBV(n);const a=t.XpG();return t.Njj(a.addFile(o))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("initialFiles",n.images)}}function mt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.productForm.reset())}),t.j41(1,"mat-icon"),t.EFF(2,"clear"),t.k0s(),t.EFF(3,"\xa0 Limpiar "),t.k0s()}}function dt(e,s){1&e&&t.nrm(0,"mat-spinner",14)}let U=(()=>{class e{constructor(n,i,o,a){this.snackBarService=n,this.dialogRef=i,this.product=o,this.productService=a,this.productForm=new r.gE({name:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),brand:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),price:new r.MJ(200,{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[0-9]{1,5}$")]}),stock:new r.MJ(10,{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[0-9]{1,3}$")]}),description:new r.MJ("",{nonNullable:!0}),images:new r.MJ([],{nonNullable:!0})}),this.bFetchingData=!1,this.bSubmitting=!1,this.productAction="Cre",this.images=[],this.product&&(this.images=this.product.images,this.productAction="Modific",this.productForm.patchValue({description:this.product.description??this.product.name+" "+this.product.brand,name:this.product.name,stock:this.product.stock,price:this.product.price,brand:this.product.brand,images:this.images}))}ngOnInit(){}onSubmit(){this.bSubmitting=!0;let n=()=>this.productService.createProduct,i={name:this.productForm.controls.name.value,price:+this.productForm.controls.price?.value,stock:+this.productForm.controls.stock?.value,brand:this.productForm.controls.brand?.value,description:this.productForm.controls.description?.value,images:this.images};this.product&&(n=()=>this.productService.updateProduct,i={...i,id:this.product.id}),n().bind(this.productService)(i).subscribe({next:()=>{this.snackBarService.open(`Se ${this.productAction}o el producto.`,"Aceptar",6e3,"success-snackbar"),this.productService.updateTable(),this.dialogRef.close()},error:o=>this.bSubmitting=!1})}addFile(n){if(!n)return;this.bSubmitting=!0;const i={id:this.product.id,description:this.product.description,name:this.product.name,stock:this.product.stock,price:this.product.price,brand:this.product.brand,images:n?n.map(o=>JSON.stringify(o.cloudinary)):[]};this.productService.updateProduct(i).subscribe({next:o=>{this.images=[...o.images],console.log(this.images),this.snackBarService.open("Se modificaron las fotos del edificio.","Aceptar",6e3,"success-snackbar"),this.bSubmitting=!1,this.productService.updateTable()},error:o=>{this.bSubmitting=!1,this.snackBarService.open(`ERROR: ${o}`,"Aceptar",6e3,"error-snackbar")}})}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(_.v),t.rXU(f.CP),t.rXU(f.Vh),t.rXU(k))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-create-product-form"]],decls:33,vars:7,consts:[["submitting",""],[1,"form",3,"ngSubmit","formGroup"],["appearance","fill","color","primary"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese Nombre.","formControlName","name"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese Marca.","formControlName","brand"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese descripci\xf3n.","formControlName","description"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese precio.","formControlName","price","pattern","[0-9]*",3,"keypress"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese stock disponible.","formControlName","stock","pattern","[0-9]*",3,"keypress"],["height","200px",3,"initialFiles","finalizaCarga",4,"ngIf"],[1,"submit-button-and-spinner"],["appRoundButton","","mat-stroked-button","","color","primary","class","btn-small",3,"click",4,"ngIf","ngIfElse"],["appRoundButton","","mat-flat-button","","color","accent","type","submit",1,"btn-small",3,"click","disabled"],["height","200px",3,"finalizaCarga","initialFiles"],["appRoundButton","","mat-stroked-button","","color","primary",1,"btn-small",3,"click"],["diameter","36",1,"spinner"]],template:function(i,o){if(1&i){const a=t.RV6();t.j41(0,"main")(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.j41(4,"mat-form-field",2)(5,"mat-label"),t.EFF(6,"Nombre"),t.k0s(),t.nrm(7,"input",3),t.k0s(),t.j41(8,"mat-form-field",2)(9,"mat-label"),t.EFF(10,"Marca"),t.k0s(),t.nrm(11,"input",4),t.k0s(),t.j41(12,"mat-form-field",2)(13,"mat-label"),t.EFF(14,"Descripci\xf3n"),t.k0s(),t.nrm(15,"input",5),t.k0s(),t.j41(16,"mat-form-field",2)(17,"mat-label"),t.EFF(18,"Precio"),t.k0s(),t.j41(19,"input",6),t.bIt("keypress",function(p){return t.eBV(a),t.Njj(p.charCode>=48&&p.charCode<58)}),t.k0s()(),t.j41(20,"mat-form-field",2)(21,"mat-label"),t.EFF(22,"Stock"),t.k0s(),t.j41(23,"input",7),t.bIt("keypress",function(p){return t.eBV(a),t.Njj(p.charCode>=48&&p.charCode<58)}),t.k0s()()(),t.DNE(24,pt,1,1,"app-cool-file-input",8),t.j41(25,"div",9),t.DNE(26,mt,4,0,"button",10),t.j41(27,"button",11),t.bIt("click",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.j41(28,"mat-icon"),t.EFF(29,"send"),t.k0s(),t.EFF(30),t.k0s(),t.DNE(31,dt,1,0,"ng-template",null,0,t.C5r),t.k0s()()}if(2&i){const a=t.sdS(32);t.R7$(2),t.SpI("",o.productAction,"ar producto"),t.R7$(),t.Y8G("formGroup",o.productForm),t.R7$(21),t.Y8G("ngIf",null==o.product?null:o.product.id),t.R7$(2),t.Y8G("ngIf",!o.bSubmitting)("ngIfElse",a),t.R7$(),t.Y8G("disabled",o.productForm.invalid),t.R7$(3),t.SpI("\xa0 ",o.productAction,"ar ")}},dependencies:[m.bT,P.$z,O.An,R.fg,b.rl,b.nJ,$.LG,r.qT,r.me,r.BC,r.cb,r.R_,r.j4,r.JD,y.K,G.H],styles:["main[_ngcontent-%COMP%]{margin:20px;color:var(--color-text)}main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:grid;gap:.35rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-top:1rem}main[_ngcontent-%COMP%]   .submit-button-and-spinner[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center}main[_ngcontent-%COMP%]   .submit-button-and-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;width:100%}.input-spinner[_ngcontent-%COMP%]{display:flex;height:36px;flex-direction:row}.input-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{padding-right:8px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}"]})}return e})();var D=c(1263),L=c(2897),M=c(9115);function ut(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",3),t.bIt("click",function(o){return t.eBV(n),t.Njj(o.stopPropagation())}),t.j41(1,"mat-icon"),t.EFF(2,"more_vert"),t.k0s()()}if(2&e){t.XpG();const n=t.sdS(2);t.Y8G("matMenuTriggerFor",n)}}function gt(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",4),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG();return t.Njj(a.handleAction(o))}),t.j41(2,"mat-icon"),t.EFF(3),t.k0s(),t.EFF(4),t.k0s(),t.bVm()}if(2&e){const n=s.$implicit;t.R7$(),t.xc7("color",n.color),t.R7$(),t.xc7("color",n.color),t.R7$(),t.JRh(n.icon),t.R7$(),t.SpI(" ",n.title," ")}}let ft=(()=>{class e{constructor(n,i,o,a,l){this.matDialog=n,this.productService=i,this.snackBarService=o,this.profileService=a,this.cargasService=l,this.data=null,this.actions=[]}ngOnInit(){this.actions=this.getProductActions(this.data.id)}handleAction(n){switch(n.name){case"update":this.matDialog.open(U,{data:this.data}).afterClosed().subscribe(i=>{});break;case"delete":{const i=`${this.data?.name}, ${this.data?.brand}`;this.matDialog.open(D.D,{width:"300px",data:{title:"Borrar producto.",message:`Se borrara el producto ${i}. \xbfDesea continuar?`,color:"primary"}}).afterClosed().subscribe(a=>{a&&this.productService.deleteProduct(this.data.id).subscribe(()=>{this.snackBarService.open(`Producto ${i} eliminado.`,"Aceptar",5e3,"success-snackbar"),this.productService.updateTable()})});break}}}getAllProductActions(){return[{name:"update",title:"Modificar producto",icon:"announcement",permission:"products_informar-product",availableStates:[1]},{name:"delete",title:"Borrar producto",icon:"cancel",color:"#F08080",permission:"products_cancelar-product",availableStates:[]}]}getProductActions(n){return this.getAllProductActions()}userHasPermissionForAction(n){return!n.permission||this.profileService.hasPermission(n.permission)}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(f.bZ),t.rXU(k),t.rXU(_.v),t.rXU(L.p),t.rXU(S))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-product-actions"]],decls:4,vars:2,consts:[["menu","matMenu"],["mat-icon-button","",3,"matMenuTriggerFor","click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(i,o){1&i&&(t.DNE(0,ut,3,1,"button",1),t.j41(1,"mat-menu",null,0),t.DNE(3,gt,5,6,"ng-container",2),t.k0s()),2&i&&(t.Y8G("ngIf",o.actions.length>0),t.R7$(3),t.Y8G("ngForOf",o.actions))},dependencies:[m.Sq,m.bT,P.iY,O.An,M.kk,M.fb,M.Cp],styles:["button[_ngcontent-%COMP%]{float:right}"],changeDetection:0})}return e})();var T=c(761),w=c(2659),E=c(4796);const ht=()=>[0,2,3,5];function _t(e,s){if(1&e&&t.nrm(0,"app-dynamic-table",7),2&e){const n=t.XpG().ngIf,i=t.XpG();t.Y8G("borderRadius","10px")("data",n)("tableDefinition",i.tableDefinition)("columnStyles",i.columnStyles)("columnFormaters",i.columnFormaters)("customColumnComponents",i.customComponents)("useFilters",!0)("useSorting",!0)("useAutoComplete",!0)("notFilteredColumns",t.lJ4(13,ht))("updateSource",i.productUpdateSource.asObservable())("usePagination",!0)("pageSize",15)}}function bt(e,s){1&e&&t.nrm(0,"app-table-loader",9),2&e&&t.Y8G("backgroundColor","var(--color-card-fade)")("borderRadius","4px")("columns",8)("rows",1)}function Ct(e,s){1&e&&(t.j41(0,"p",10),t.EFF(1,"NO SE ENCONTRARON PRODUCTOS"),t.k0s())}function Pt(e,s){if(1&e&&t.DNE(0,bt,1,4,"app-table-loader",8)(1,Ct,2,0,"ng-template",null,1,t.C5r),2&e){const n=t.sdS(2),i=t.XpG(2);t.Y8G("ngIf",i.loading)("ngIfElse",n)}}function Ot(e,s){if(1&e&&(t.j41(0,"section",5),t.DNE(1,_t,1,14,"app-dynamic-table",6)(2,Pt,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&e){const n=s.ngIf,i=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.length>0)("ngIfElse",i)}}let Mt=(()=>{class e{constructor(n,i,o,a,l,p,g){this.overlayService=n,this.changeDetectorRef=i,this.snackBarService=o,this.activatedRoute=a,this.router=l,this.productService=p,this.matDialog=g,this.product$=this.productService.getProducts(),this.today=new Date,this.loading=!1,this.isChangedAnimation=new h.B,this.tableDefinition={displayedColumns:["images","name","price","stock","brand","description","updatedAt","acciones"],headerCellDefinitions:["","Nombre","Precio","Stock","Marca","Descripci\xf3n","Ultima actualizaci\xf3n","Acciones"]},this.customComponents=[{type:A.E,componentData:{propertyPath:"images"}},null,null,null,null,null,null,{type:ft,componentData:{propertyPath:""}}],this.columnStyles=[null,null,null],this.columnFormaters=[null,null,C=>`${C.price} $`,null,null,null,C=>{const j=new Date(C?.updatedAt),En=`${j?.toLocaleDateString()} ${j?.toLocaleTimeString()}`;return`${j+""=="Invalid Date"?C.updatedAt:En}`}],this.productUpdateSource=new h.B}ngOnInit(){this.productService.updateProductEvent.subscribe(n=>{this.updateTable()})}openDialogCreateProduct(){this.matDialog.open(U)}updateTable(){this.product$=this.productService.getProducts()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(T.s),t.rXU(t.gRc),t.rXU(_.v),t.rXU(x.nX),t.rXU(x.Ix),t.rXU(k),t.rXU(f.bZ))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-product-list"]],decls:10,vars:3,consts:[["tableLoader",""],["tableNoResult",""],["role","header",1,"header"],["appRoundButton","","mat-flat-button","","color","primary",1,"btn","btn-primary",3,"click"],["class","table-container",4,"ngIf"],[1,"table-container"],[3,"borderRadius","data","tableDefinition","columnStyles","columnFormaters","customColumnComponents","useFilters","useSorting","useAutoComplete","notFilteredColumns","updateSource","usePagination","pageSize",4,"ngIf","ngIfElse"],[3,"borderRadius","data","tableDefinition","columnStyles","columnFormaters","customColumnComponents","useFilters","useSorting","useAutoComplete","notFilteredColumns","updateSource","usePagination","pageSize"],[3,"backgroundColor","borderRadius","columns","rows",4,"ngIf","ngIfElse"],[3,"backgroundColor","borderRadius","columns","rows"],[1,"no-results"]],template:function(i,o){1&i&&(t.j41(0,"main")(1,"div",2)(2,"h1"),t.EFF(3,"Gesti\xf3n de productos"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return o.openDialogCreateProduct()}),t.j41(5,"mat-icon"),t.EFF(6,"add"),t.k0s(),t.EFF(7," Agregar producto "),t.k0s()(),t.DNE(8,Ot,4,2,"section",4),t.nI1(9,"async"),t.k0s()),2&i&&(t.R7$(8),t.Y8G("ngIf",t.bMT(9,1,o.product$)))},dependencies:[m.bT,P.$z,O.An,y.K,w.J,E.p,m.Jj],styles:["main[_ngcontent-%COMP%]{padding:1.5em}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:5px}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:18px}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{float:right}main[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{margin:10px auto;border-radius:8px;width:-webkit-fill-available;text-align:-webkit-center}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:10px auto;width:max-content}main[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{max-width:400px;margin-bottom:8px}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{display:grid;gap:.35rem;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin:1rem;border-radius:8px;padding:1rem}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .detail-step[_ngcontent-%COMP%]{align-items:flex-start!important}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .detail-step[_ngcontent-%COMP%]   .empleado-information[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:100%;height:100%}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]{text-align:start;padding:20px}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   .title-space[_ngcontent-%COMP%]{padding-top:20px}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1em}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:30px}main[_ngcontent-%COMP%]   .observation-form-field[_ngcontent-%COMP%]{width:90vw;padding-left:3vw}main[_ngcontent-%COMP%]   .label-input[_ngcontent-%COMP%]{margin:40px!important}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{min-width:25vh;min-height:25vh;margin-right:1rem;border-radius:10px}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25vh!important;height:25vh!important}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{border-radius:.5em}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:right;margin:1em}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .actions-filters[_ngcontent-%COMP%]{margin-left:auto}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .actions-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .first-option[_ngcontent-%COMP%]     .mat-option-text{color:var(--color-text-fade)}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]     .mat-button-wrapper{height:30px}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:12px}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-flex{padding:5px 10px 0}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center}main[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;align-items:center;margin-bottom:1rem}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dash_card[_ngcontent-%COMP%]{width:-webkit-fill-available}main[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-outer-spin-button, main[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}main[_ngcontent-%COMP%]   input[matinput][type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0})}return e})();var vt=c(8315);function xt(e,s){if(1&e&&t.nrm(0,"app-dynamic-table",3),2&e){const n=t.XpG();t.Y8G("data",n.listUsers)("tableDefinition",n.tableDefinition)("columnFormaters",n.columnFormaters)("useFilters",!0)("useAutoComplete",!0)("customColumnComponents",n.customColumnComponents)("updateSource",n.tableUpdateSource.asObservable())("borderRadius","0.5em")}}function yt(e,s){1&e&&t.nrm(0,"app-table-loader",5),2&e&&t.Y8G("backgroundColor","var(--color-card-fade)")("borderRadius","4px")("columns",8)("rows",1)}function Ft(e,s){1&e&&(t.j41(0,"p",6),t.EFF(1,"NO SE ENCONTRARON USUARIOS"),t.k0s())}function St(e,s){if(1&e&&t.DNE(0,yt,1,4,"app-table-loader",4)(1,Ft,2,0,"ng-template",null,1,t.C5r),2&e){const n=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.loading)("ngIfElse",n)}}let kt=(()=>{class e{constructor(n,i,o,a,l){this.userService=n,this.overlayService=i,this.fb=o,this.changeDetectorRef=a,this.snackBarService=l,this.tableUpdateSource=new h.B,this.tableDefinition={displayedColumns:["picture","habilitado","name","email","phone","appartment","updatedAt","createdAt","rol"],headerCellDefinitions:["FOTO","HABILITADO","NOMBRE","EMAIL","TELEFONO","DEPARTAMENTO","F ACTUALIZACI\xd3N","F ALTA","ROL"]},this.customColumnComponents=[{type:A.E,componentData:{propertyPath:"picture"}}],this.columnFormaters=[null,p=>(p.isActive?"":"in")+"habilitado",null,null,p=>p.phone?'<link href="https://wa.me/'+p.phone+'" title="'+p.phone+'" />':"Sin asignar",p=>p.appartment?(p.appartment.floor>0?p.appartment.floor:"PB")+" - "+p.appartment.letter:"Sin asignar",p=>{const g=new Date(p?.updatedAt),C=`${g?.toLocaleDateString()} ${g?.toLocaleTimeString()}`;return`${g+""=="Invalid Date"?p.updatedAt:C}`},p=>{const g=new Date(p?.createdAt),C=`${g?.toLocaleDateString()} ${g?.toLocaleTimeString()}`;return`${g+""=="Invalid Date"?p.createdAt:C}`}],this.listUsers=[],this.today=new Date,this.isChangedAnimation=new h.B,this.selectedSucursal=1,this.formUserListGroup=this.fb.group({legajoControl:["",[r.k0.required]],sectorControl:["",[r.k0.required]],sucursalControl:["",[r.k0.required]],fechaControl:[this.today],puestoControl:[""],postulaControl:[""],resultadoControl:["",[r.k0.required]],psicologoControl:["",[r.k0.required]],bateriaTextControl:[""],verazControl:[!1],nombreControl:["",[r.k0.required]],tipoDocumentoControl:["D.N.I.",[r.k0.required]],documentoControl:["",[r.k0.required]],observacionesControl:["",[r.k0.required]],activoControl:[!1]}),this.loading=!1,this.searchUser()}searchUser(){this.overlayService.displayLoadingOverlay(),this.loading=!0,this.userService.getUsers().subscribe(n=>{this.listUsers=n,setTimeout(()=>{this.overlayService.hideLoadingOverlay(),this.loading=!1,this.changeDetectorRef.detectChanges()},100)})}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(vt.D),t.rXU(T.s),t.rXU(r.ok),t.rXU(t.gRc),t.rXU(_.v))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-client-list"]],decls:7,vars:2,consts:[["tableLoader",""],["tableNoResult",""],[3,"data","tableDefinition","columnFormaters","useFilters","useAutoComplete","customColumnComponents","updateSource","borderRadius",4,"ngIf","ngIfElse"],[3,"data","tableDefinition","columnFormaters","useFilters","useAutoComplete","customColumnComponents","updateSource","borderRadius"],[3,"backgroundColor","borderRadius","columns","rows",4,"ngIf","ngIfElse"],[3,"backgroundColor","borderRadius","columns","rows"],[1,"no-results"]],template:function(i,o){if(1&i&&(t.j41(0,"main")(1,"h1"),t.EFF(2,"Carga de Usuarios"),t.k0s(),t.j41(3,"section"),t.DNE(4,xt,1,8,"app-dynamic-table",2)(5,St,3,2,"ng-template",null,0,t.C5r),t.k0s()()),2&i){const a=t.sdS(6);t.R7$(4),t.Y8G("ngIf",o.listUsers.length>0)("ngIfElse",a)}},dependencies:[m.bT,w.J,E.p],styles:["main[_ngcontent-%COMP%]{padding:1.5em;color:var(--color-text-fade)}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:5px}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:18px}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{float:right}main[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{margin:10px auto;border-radius:8px;width:-webkit-fill-available;text-align:-webkit-center}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:10px auto;width:max-content}main[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{max-width:400px;margin-bottom:8px}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{display:grid;gap:.35rem;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin:1rem;border-radius:8px;padding:1rem}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .detail-step[_ngcontent-%COMP%]{align-items:flex-start!important}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .detail-step[_ngcontent-%COMP%]   .empleado-information[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:100%;height:100%}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]{text-align:start;padding:20px}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   .title-space[_ngcontent-%COMP%]{padding-top:20px}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1em}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:30px}main[_ngcontent-%COMP%]   .observation-form-field[_ngcontent-%COMP%]{width:90vw;padding-left:3vw}main[_ngcontent-%COMP%]   .label-input[_ngcontent-%COMP%]{margin:40px!important}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{min-width:25vh;min-height:25vh;margin-right:1rem;border-radius:10px}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25vh!important;height:25vh!important}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{border-radius:.5em}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:right;margin:1em}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .actions-filters[_ngcontent-%COMP%]{margin-left:auto}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .actions-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .first-option[_ngcontent-%COMP%]     .mat-option-text{color:var(--color-text-fade)}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]     .mat-button-wrapper{height:30px}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:12px}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-flex{padding:5px 10px 0}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center}main[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;align-items:center;margin-bottom:1rem}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dash_card[_ngcontent-%COMP%]{width:-webkit-fill-available}main[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-outer-spin-button, main[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}main[_ngcontent-%COMP%]   input[matinput][type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0})}return e})();var v=c(9192);const Tt={address:null,location:null,floors:null};let F=(()=>{class e{constructor(n){this.apollo=n,this.updateBuildingEventSource=new h.B,this.updateBuildingEvent=this.updateBuildingEventSource.asObservable(),this.buildings=[],this.building=null}updateTable(){this.updateBuildingEventSource.next(!0)}getBuildings(n=Tt){return this.apollo.watchQuery({query:v.u7,variables:n,fetchPolicy:"network-only"}).valueChanges.pipe((0,d.T)(i=>this.buildings=i.data.buildings))}getPluDetails(n){}createBuilding(n){return console.log(n),this.apollo.mutate({mutation:v.wy,variables:{input:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.building))}updateBuilding(n){return this.apollo.mutate({mutation:v.Hh,variables:{input:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.updateBuilding))}deleteBuilding(n){return this.apollo.mutate({mutation:v.ZT,variables:{id:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.building))}getBuildingDetails(n){return console.log("buildingId",n),this.apollo.mutate({mutation:v.fx,variables:{id:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.building))}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(u.Ic))};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var X=c(6600),V=c(2798);function Et(e,s){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function At(e,s){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function Rt(e,s){if(1&e){const n=t.RV6();t.j41(0,"app-cool-file-input",14),t.bIt("finalizaCarga",function(o){t.eBV(n);const a=t.XpG();return t.Njj(a.addFile(o))}),t.k0s()}if(2&e){const n=t.XpG();t.Y8G("initialFiles",n.images)}}function Dt(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.buildingForm.reset())}),t.j41(1,"mat-icon"),t.EFF(2,"clear"),t.k0s(),t.EFF(3,"\xa0 Limpiar "),t.k0s()}}function wt(e,s){1&e&&t.nrm(0,"mat-spinner",16)}let Y=(()=>{class e{constructor(n,i,o,a){this.snackBarService=n,this.dialogRef=i,this.building=o,this.buildingService=a,this.buildingForm=new r.gE({address:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),location:new r.MJ("",{nonNullable:!0,validators:[r.k0.required]}),floors:new r.MJ(9,{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[0-9]{1,2}$")]}),letter:new r.MJ("",{nonNullable:!0,validators:[r.k0.required,r.k0.pattern("^[A-Ha-h]{1}$")]}),images:new r.MJ([],{nonNullable:!0})}),this.buildingPlu=null,this.bFetchingData=!1,this.bSubmitting=!1,this.buildingAction="Cre",this.floors=[2,3,4,5,6,7,8,9],this.letters=["A","B","C","D","E"],this.images=[],this.building&&(this.images=this.building.images,this.buildingAction="Modific",this.buildingForm.patchValue({address:this.building.address,location:this.building.location,floors:this.building.floors,letter:this.building.letter,images:this.images}))}ngOnInit(){}onSubmit(){this.bSubmitting=!0;let n=()=>this.buildingService.createBuilding,i={address:this.buildingForm.controls.address.value,location:this.buildingForm.controls.location?.value,floors:this.buildingForm.controls.floors?.value,letter:this.buildingForm.controls.letter?.value,images:this.images};this.building&&(n=()=>this.buildingService.updateBuilding,i={...i,id:this.building.id}),n().bind(this.buildingService)(i).subscribe({next:()=>{this.snackBarService.open(`Se ${this.buildingAction}o el edificio.`,"Aceptar",6e3,"success-snackbar"),this.buildingService.updateTable(),this.dialogRef.close()},error:o=>this.bSubmitting=!1})}addFile(n){if(!n)return;this.bSubmitting=!0;const i={id:this.building.id,address:this.building.address,location:this.building.location,floors:this.building.floors,letter:this.building.letter,images:n?n.map(o=>JSON.stringify(o.cloudinary)):[]};this.buildingService.updateBuilding(i).subscribe({next:o=>{this.images=[...o.images],console.log(this.images),this.snackBarService.open("Se modificaron las fotos del edificio.","Aceptar",6e3,"success-snackbar"),this.bSubmitting=!1,this.buildingService.updateTable()},error:o=>{this.bSubmitting=!1,this.snackBarService.open(`ERROR: ${o}`,"Aceptar",6e3,"error-snackbar")}})}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(_.v),t.rXU(f.CP),t.rXU(f.Vh),t.rXU(F))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-create-building-form"]],decls:31,vars:9,consts:[["submitting",""],[1,"form",3,"ngSubmit","formGroup"],["appearance","fill","color","primary"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese Direcci\xf3n.","formControlName","address"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese Localidad.","formControlName","location"],["appearance","fill","color","primary",1,"state-form-field"],["formControlName","floors"],[3,"value",4,"ngFor","ngForOf"],["formControlName","letter"],["height","200px",3,"initialFiles","finalizaCarga",4,"ngIf"],[1,"submit-button-and-spinner"],["appRoundButton","","mat-stroked-button","","color","primary","class","btn-small",3,"click",4,"ngIf","ngIfElse"],["appRoundButton","","mat-flat-button","","color","accent","type","submit",1,"btn-small",3,"click","disabled"],[3,"value"],["height","200px",3,"finalizaCarga","initialFiles"],["appRoundButton","","mat-stroked-button","","color","primary",1,"btn-small",3,"click"],["diameter","36",1,"spinner"]],template:function(i,o){if(1&i){const a=t.RV6();t.j41(0,"main")(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.j41(4,"mat-form-field",2)(5,"mat-label"),t.EFF(6,"Direcci\xf3n"),t.k0s(),t.nrm(7,"input",3),t.k0s(),t.j41(8,"mat-form-field",2)(9,"mat-label"),t.EFF(10,"Localidad"),t.k0s(),t.nrm(11,"input",4),t.k0s(),t.j41(12,"mat-form-field",5)(13,"mat-label"),t.EFF(14,"Pisos"),t.k0s(),t.j41(15,"mat-select",6),t.DNE(16,Et,2,2,"mat-option",7),t.k0s()(),t.j41(17,"mat-form-field",2)(18,"mat-label"),t.EFF(19,"Letra m\xe1xima de departamento"),t.k0s(),t.j41(20,"mat-select",8),t.DNE(21,At,2,2,"mat-option",7),t.k0s()()(),t.DNE(22,Rt,1,1,"app-cool-file-input",9),t.j41(23,"div",10),t.DNE(24,Dt,4,0,"button",11),t.j41(25,"button",12),t.bIt("click",function(){return t.eBV(a),t.Njj(o.onSubmit())}),t.j41(26,"mat-icon"),t.EFF(27,"send"),t.k0s(),t.EFF(28),t.k0s(),t.DNE(29,wt,1,0,"ng-template",null,0,t.C5r),t.k0s()()}if(2&i){const a=t.sdS(30);t.R7$(2),t.SpI("",o.buildingAction,"ar edificio"),t.R7$(),t.Y8G("formGroup",o.buildingForm),t.R7$(13),t.Y8G("ngForOf",o.floors),t.R7$(5),t.Y8G("ngForOf",o.letters),t.R7$(),t.Y8G("ngIf",null==o.building?null:o.building.id),t.R7$(2),t.Y8G("ngIf",!o.bSubmitting)("ngIfElse",a),t.R7$(),t.Y8G("disabled",o.buildingForm.invalid),t.R7$(3),t.SpI("\xa0 ",o.buildingAction,"ar ")}},dependencies:[m.Sq,m.bT,X.wT,P.$z,O.An,R.fg,b.rl,b.nJ,$.LG,V.VO,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,y.K,G.H],styles:["main[_ngcontent-%COMP%]{margin:20px;color:var(--color-text)}main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:grid;gap:.35rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-top:1rem}main[_ngcontent-%COMP%]   .submit-button-and-spinner[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center}main[_ngcontent-%COMP%]   .submit-button-and-spinner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;width:100%}.input-spinner[_ngcontent-%COMP%]{display:flex;height:36px;flex-direction:row}.input-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{padding-right:8px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.pluDetails[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:center;padding:10px 0;box-sizing:border-box}.pluDetails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:128px;height:128px;border-radius:3px}.pluDetails[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{margin-left:10px;text-align:left}.pluDetails[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}"]})}return e})();function It(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",3),t.bIt("click",function(o){return t.eBV(n),t.Njj(o.stopPropagation())}),t.j41(1,"mat-icon"),t.EFF(2,"more_vert"),t.k0s()()}if(2&e){t.XpG();const n=t.sdS(2);t.Y8G("matMenuTriggerFor",n)}}function jt(e,s){if(1&e){const n=t.RV6();t.qex(0),t.j41(1,"button",4),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG();return t.Njj(a.handleAction(o))}),t.j41(2,"mat-icon"),t.EFF(3),t.k0s(),t.EFF(4),t.k0s(),t.bVm()}if(2&e){const n=s.$implicit;t.R7$(),t.xc7("color",n.color),t.R7$(),t.xc7("color",n.color),t.R7$(),t.JRh(n.icon),t.R7$(),t.SpI(" ",n.title," ")}}let Bt=(()=>{class e{constructor(n,i,o,a,l){this.matDialog=n,this.buildingService=i,this.snackBarService=o,this.profileService=a,this.cargasService=l,this.data=null,this.actions=[]}ngOnInit(){this.actions=this.getBuildingActions(this.data.id)}handleAction(n){switch(n.name){case"appartments":this.cargasService.tabIndex=1,this.buildingService.building=this.data;break;case"detail":break;case"update":this.matDialog.open(Y,{data:this.data}).afterClosed().subscribe(i=>{});break;case"delete":{const i=`ubicado en ${this.data?.address}, ${this.data?.location}`;this.matDialog.open(D.D,{width:"300px",data:{title:"Borrar edificio.",message:`Se borrara el edificio ${i}. \xbfDesea continuar?`,color:"primary"}}).afterClosed().subscribe(a=>{a&&this.buildingService.deleteBuilding(this.data.id).subscribe(()=>{this.snackBarService.open(`Edificio ${i} eliminado.`,"Aceptar",5e3,"success-snackbar"),this.buildingService.updateTable()})});break}}}getAllBuildingActions(){return[{name:"appartments",title:"Departamentos",icon:"info",permission:"buildings_appartments",availableStates:[]},{name:"detail",title:"Ver detalle",icon:"info",permission:"buildings_ver-detalle",availableStates:[]},{name:"update",title:"Modificar edificio",icon:"announcement",permission:"buildings_informar-building",availableStates:[1]},{name:"delete",title:"Borrar edificio",icon:"cancel",color:"#F08080",permission:"buildings_cancelar-building",availableStates:[]}]}getBuildingActions(n){return this.getAllBuildingActions()}userHasPermissionForAction(n){return!n.permission||this.profileService.hasPermission(n.permission)}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(f.bZ),t.rXU(F),t.rXU(_.v),t.rXU(L.p),t.rXU(S))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-building-actions"]],decls:4,vars:2,consts:[["menu","matMenu"],["mat-icon-button","",3,"matMenuTriggerFor","click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(i,o){1&i&&(t.DNE(0,It,3,1,"button",1),t.j41(1,"mat-menu",null,0),t.DNE(3,jt,5,6,"ng-container",2),t.k0s()),2&i&&(t.Y8G("ngIf",o.actions.length>0),t.R7$(3),t.Y8G("ngForOf",o.actions))},dependencies:[m.Sq,m.bT,P.iY,O.An,M.kk,M.fb,M.Cp],styles:["button[_ngcontent-%COMP%]{float:right}"],changeDetection:0})}return e})();const Nt=()=>[0,4,5];function $t(e,s){if(1&e){const n=t.RV6();t.j41(0,"app-dynamic-table",7),t.bIt("dataFilterEvent",function(o){t.eBV(n);const a=t.XpG(2);return t.Njj(a.handleFilteredData(o))}),t.k0s()}if(2&e){const n=t.XpG().ngIf,i=t.XpG();t.Y8G("data",n)("borderRadius","10px")("tableDefinition",i.tableDefinition)("customColumnComponents",i.customComponents)("columnFormaters",i.columnFormaters)("columnStyles",i.columnStyles)("usePagination",!0)("useFilters",!0)("useSorting",!0)("useAutoComplete",!0)("notFilteredColumns",t.lJ4(13,Nt))("pageSize",10)("updateSource",i.buildingsUpdateSource.asObservable())}}function Gt(e,s){1&e&&t.nrm(0,"app-table-loader",9),2&e&&t.Y8G("backgroundColor","var(--color-card-fade)")("borderRadius","4px")("columns",6)("rows",1)}function Ut(e,s){1&e&&(t.j41(0,"p",10),t.EFF(1,"NO SE ENCONTRARON EDIFICIOS"),t.k0s())}function Lt(e,s){if(1&e&&t.DNE(0,Gt,1,4,"app-table-loader",8)(1,Ut,2,0,"ng-template",null,1,t.C5r),2&e){const n=t.sdS(2),i=t.XpG(2);t.Y8G("ngIf",i.loading)("ngIfElse",n)}}function Xt(e,s){if(1&e&&(t.j41(0,"div",5),t.DNE(1,$t,1,14,"app-dynamic-table",6)(2,Lt,3,2,"ng-template",null,0,t.C5r),t.k0s()),2&e){const n=s.ngIf,i=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.length>0)("ngIfElse",i)}}let Vt=(()=>{class e{constructor(n,i,o,a,l){this.activatedRoute=n,this.buildingService=i,this.matDialog=o,this.changeDetectorRef=a,this.overlayService=l,this.filters={address:null,floors:null,location:null},this.building$=this.buildingService.getBuildings(this.filters),this.loading=!1,this.tableDefinition={displayedColumns:["images","address","location","floors","letter","acciones"],headerCellDefinitions:["","Direccion","Localidad","Pisos","Letra maxima","Acciones"]},this.customComponents=[{type:A.E,componentData:{propertyPath:"images"}},null,null,null,null,{type:Bt,componentData:{propertyPath:""}}],this.columnFormaters=[null,null,null,null],this.columnStyles=[null,null,null,null,null,null],this.buildingsUpdateSource=new h.B}ngOnInit(){this.loading=!0,this.activatedRoute.data.subscribe(n=>{this.loading=!1,this.updateTable()}),this.buildingService.updateBuildingEvent.subscribe(n=>{this.updateTable()})}onFiltersChanged(n){console.log(n),this.filters=n}handleFilteredData(n){}updateTable(){this.building$=this.buildingService.getBuildings(this.filters)}openDialogCreatebuilding(){this.matDialog.open(Y)}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(x.nX),t.rXU(F),t.rXU(f.bZ),t.rXU(t.gRc),t.rXU(T.s))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-buildings-list"]],decls:10,vars:3,consts:[["tableLoader",""],["tableNoResult",""],["role","header",1,"header"],["appRoundButton","","mat-flat-button","","color","primary",1,"btn","btn-primary",3,"click"],["class","table-container",4,"ngIf"],[1,"table-container"],[3,"data","borderRadius","tableDefinition","customColumnComponents","columnFormaters","columnStyles","usePagination","useFilters","useSorting","useAutoComplete","notFilteredColumns","pageSize","updateSource","dataFilterEvent",4,"ngIf","ngIfElse"],[3,"dataFilterEvent","data","borderRadius","tableDefinition","customColumnComponents","columnFormaters","columnStyles","usePagination","useFilters","useSorting","useAutoComplete","notFilteredColumns","pageSize","updateSource"],[3,"backgroundColor","borderRadius","columns","rows",4,"ngIf","ngIfElse"],[3,"backgroundColor","borderRadius","columns","rows"],[1,"no-results"]],template:function(i,o){1&i&&(t.j41(0,"main")(1,"div",2)(2,"h1"),t.EFF(3,"Gesti\xf3n de edificios"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return o.openDialogCreatebuilding()}),t.j41(5,"mat-icon"),t.EFF(6,"add"),t.k0s(),t.EFF(7," Agregar edificio "),t.k0s()(),t.DNE(8,Xt,4,2,"div",4),t.nI1(9,"async"),t.k0s()),2&i&&(t.R7$(8),t.Y8G("ngIf",t.bMT(9,1,o.building$)))},dependencies:[m.bT,P.$z,O.An,y.K,w.J,E.p,m.Jj],styles:["main[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.table-container[_ngcontent-%COMP%]{margin-top:24px}.table-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})}return e})();var J=c(6697),Yt=c(980),Jt=c(2038);u.J1`
query appartments{
  appartments{
    id,
    floor,
    letter,
    observation,
    building{
        id
        address,
        location,
    }
  }
}
`;const zt=u.J1`
query appartment($id: String!){
    appartment(id: $id) {
        id,
        floor,
        letter,
        observation,
        building{
            id
            address,
            location,
        }
    }
}
`,Ht=u.J1`
    mutation createAppartment($input: CreateappartmentDTO!) {
      createAppartment(input: $input) {
        id,
        floor,
        letter,
        observation,
        building{
            id
            address,
            location,
        }
      }
    }
`,Kt=u.J1`
    mutation updateAppartment($input: UpdateappartmentDTO!) {
      updateAppartment(input: $input) {
        id,
        floor,
        letter,
        observation,
        building{
            id
            address,
            location,
        }
      }
    }
`,Zt=u.J1`
    mutation deleteAppartment($id: String!) {
      deleteAppartment(id: $id) {
        id,
        floor,
        letter,
        observation,
        building{
            id
            address,
            location,
        }
      }
    }
`,Qt=u.J1`
query building($id: String!){
    building(id: $id) {
        location
        address
        id
        images
        floors
        letter
        appartments{
          floor
          letter
          observation
          users { name }
          id
      }
    }
}
`,Wt={buildingId:null};let z=(()=>{class e{constructor(n){this.apollo=n}getBuildings(){return this.apollo.watchQuery({query:v.u7,fetchPolicy:"network-only"}).valueChanges.pipe((0,d.T)(n=>n.data.buildings))}getAppartments(n=Wt){return this.apollo.watchQuery({query:Qt,variables:{id:n.buildingId},fetchPolicy:"network-only"}).valueChanges.pipe((0,d.T)(i=>i.data.building))}createAppartment(n){return console.log(n),this.apollo.mutate({mutation:Ht,variables:{input:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.Appartment))}updateAppartment(n){return this.apollo.mutate({mutation:Kt,variables:{input:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.updateBuilding))}deleteAppartment(n){return this.apollo.mutate({mutation:Zt,variables:{id:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.Appartment))}getAppartmentDetails(n){return this.apollo.mutate({mutation:zt,variables:{id:n},fetchPolicy:"network-only"}).pipe((0,d.T)(i=>i.data.appartment))}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(u.Ic))};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var H=c(6195),qt=c(7575),tn=c(7673),I=c(5596),K=c(4789);const nn=e=>({"background-color":e});function en(e,s){if(1&e&&t.EFF(0),2&e){const n=t.XpG().$implicit;t.SpI(" ",n.name," ")}}function on(e,s){1&e&&t.DNE(0,en,1,1,"ng-template")}function an(e,s){if(1&e){const n=t.RV6();t.j41(0,"main",1)(1,"mat-card",2)(2,"mat-card-subtitle"),t.EFF(3),t.nI1(4,"floor"),t.j41(5,"span"),t.EFF(6),t.k0s()(),t.DNE(7,on,1,0,null,3),t.j41(8,"mat-card-content")(9,"div",4)(10,"form",5)(11,"mat-form-field",6)(12,"mat-label"),t.EFF(13,"Notas"),t.k0s(),t.j41(14,"input",7),t.bIt("change",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.updateAppartmentDay())}),t.k0s()()()()()()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngStyle",t.eq3(7,nn,n.getBackgroundColor())),t.R7$(2),t.SpI("",t.bMT(4,5,n.appartment.floor)," "),t.R7$(3),t.SpI("",n.appartment.letter," "),t.R7$(),t.Y8G("ngForOf",n.appartment.users),t.R7$(3),t.Y8G("formGroup",n.formAppartmentGroup)}}let rn=(()=>{class e{constructor(n,i,o,a,l){this.router=n,this.matDialog=i,this.snackBarService=o,this.changeDetectorRef=a,this.fb=l,this.updateSource=(0,tn.of)([]),this.appartmentSelectedEvent=new t.bkB,this.inFilter=!1,this.formAppartmentGroup=new r.gE({notesControl:new r.MJ("")})}ngOnInit(){this.formAppartmentGroup.patchValue({notesControl:this.appartment?.observation}),this.appartment&&this.letter&&(this.currentBox={...this.appartment,selected:!1},this.subscription$=this.updateSource.subscribe(n=>{const i=n.find(o=>this.currentBox.floor==o.floor&&o.letter==this.currentBox.letter);i?(i.selected=!0,this.currentBox=i):this.currentBox.selected=!1}))}getBackgroundColor(){let n="";return this.currentBox?.selected?n="var(--color-ok)":this.inFilter&&(n="var(--color-border)"),n}closecupo(n){n.stopPropagation(),this.appartmentSelectedEvent.emit(this.currentBox)}updateAppartmentDay(n){if(this.appartment){this.currentBox.selected=!n||!this.currentBox.selected;let i=this.formAppartmentGroup.controls.notesControl.value;i=!i||i<0?0:i}}updateAppartmentForm(){this.formAppartmentGroup.controls.notesControl.value&&this.currentBox&&(this.currentBox.selected=!0,this.appartmentSelectedEvent.emit(this.currentBox))}ngOnDestroy(){this.subscription$&&this.subscription$.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(x.Ix),t.rXU(f.bZ),t.rXU(_.v),t.rXU(t.gRc),t.rXU(r.ok))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-appartment-registry"]],inputs:{appartment:"appartment",letter:"letter",updateSource:"updateSource"},outputs:{appartmentSelectedEvent:"appartmentSelectedEvent"},decls:1,vars:1,consts:[["class","cupo",4,"ngIf"],[1,"cupo"],[3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"scroll-content"],[3,"formGroup"],["appearance","fill","color","warn"],["matInput","","autocomplete","off","type","text","placeholder","Ingrese observaciones","formControlName","notesControl",3,"change"]],template:function(i,o){1&i&&t.DNE(0,an,15,9,"main",0),2&i&&t.Y8G("ngIf",o.appartment)},dependencies:[m.Sq,m.bT,m.B3,I.RN,I.m2,I.Lc,R.fg,b.rl,b.nJ,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,K.D],styles:["main[_ngcontent-%COMP%]     .mat-chip-list-wrapper{padding:0 12px;width:-moz-fit-content;width:fit-content;margin:0!important;flex-wrap:nowrap!important;flex-direction:row!important}main[_ngcontent-%COMP%]     mat-card{padding:10px!important;background-color:var(--color-card-background)}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-subtitle{color:var(--color-spinner)}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-content{padding:0;height:50px}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-content .scroll-content{overflow:auto;scroll-behavior:smooth;margin:auto!important}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-content .scroll-content h6{margin:0;color:#000}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-subtitle{padding:5px;font-size:1.1vw;display:flex;flex-direction:row;align-items:center;justify-content:space-between}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-actions{margin:0 auto;padding:0;min-height:10px}main[_ngcontent-%COMP%]     mat-card .mat-mdc-card-actions .mat-mdc-button-base{height:35px}main[_ngcontent-%COMP%]     mat-card .mat-mdc-form-field{width:-webkit-fill-available}main[_ngcontent-%COMP%]     .mat-menu-panel{max-width:500px!important}"],changeDetection:0})}return e})();function sn(e,s){if(1&e&&(t.j41(0,"mat-option",10),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n.id),t.R7$(),t.JRh(n.address+" - "+n.location+" ( "+n.appartments.length+" )")}}function cn(e,s){if(1&e){const n=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.openConfirmationDialog())}),t.j41(1,"mat-icon"),t.EFF(2,"warehouse"),t.k0s(),t.EFF(3,"\xa0 Guardar los cambios "),t.k0s()}}function ln(e,s){1&e&&t.nrm(0,"mat-progress-bar",12)}function pn(e,s){if(1&e&&(t.j41(0,"mat-grid-tile",16)(1,"label",17),t.EFF(2),t.k0s()()),2&e){const n=s.$implicit;t.R7$(2),t.SpI(" ",n,"")}}function mn(e,s){if(1&e){const n=t.RV6();t.j41(0,"app-appartment-registry",21),t.bIt("deptoSelectedEvent",function(o){t.eBV(n);const a=t.XpG(4);return t.Njj(a.handleDeptoSelected(o))}),t.k0s()}if(2&e){const n=t.XpG().index,i=t.XpG().$implicit,o=t.XpG(2);t.Y8G("updateSource",o.deptoUpdateEvent.asObservable())("appartment",i[n])("letter",n)}}function dn(e,s){if(1&e&&(t.j41(0,"mat-grid-tile"),t.DNE(1,mn,1,3,"app-appartment-registry",20),t.k0s()),2&e){const n=s.index,i=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",i[n])}}function un(e,s){if(1&e&&(t.j41(0,"div")(1,"mat-grid-list",18)(2,"mat-grid-tile",19)(3,"label"),t.EFF(4),t.nI1(5,"floor"),t.k0s()(),t.DNE(6,dn,2,1,"mat-grid-tile",15),t.k0s()()),2&e){const n=s.index,i=t.XpG(2);t.R7$(),t.FS9("cols",i.LETTERS_APPARTMENT.length+1),t.R7$(3),t.SpI(" ",t.bMT(5,3,i.appartments[n][0].floor)," "),t.R7$(2),t.Y8G("ngForOf",i.LETTERS_APPARTMENT)}}function gn(e,s){if(1&e&&(t.j41(0,"div")(1,"mat-grid-list",13),t.nrm(2,"mat-grid-tile"),t.DNE(3,pn,3,1,"mat-grid-tile",14),t.k0s(),t.DNE(4,un,7,5,"div",15),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.FS9("cols",n.LETTERS_APPARTMENT.length+1),t.R7$(2),t.Y8G("ngForOf",n.LETTERS_APPARTMENT),t.R7$(),t.Y8G("ngForOf",n.appartments)}}function fn(e,s){1&e&&t.nrm(0,"app-table-loader",23),2&e&&t.Y8G("backgroundColor","var(--color-card-fade)")("borderRadius","4px")("columns",8)("rows",1)}function hn(e,s){1&e&&(t.j41(0,"p",24),t.EFF(1,"NO SE ENCONTRARON DEPARTAMENTOS EN ESTE EDIFICIO "),t.k0s())}function _n(e,s){if(1&e&&t.DNE(0,fn,1,4,"app-table-loader",22)(1,hn,2,0,"ng-template",null,1,t.C5r),2&e){const n=t.sdS(2),i=t.XpG();t.Y8G("ngIf",i.loading)("ngIfElse",n)}}let bn=(()=>{class e{constructor(n,i,o,a,l,p){this.matDialog=n,this.appartmentService=i,this.overlayService=o,this.snackBarService=a,this.changeDetectorRef=l,this.buildingService=p,this.LETTERS_APPARTMENT=["A","B","C","D","E","F"],this.deptoUpdateEvent=new h.B,this.appartments=[],this.buildingFormGroup=new r.gE({buildingControl:new r.MJ("",r.k0.required)}),this.appartments_error=[],this.selectedAppartments=[],this.loading=!1,this.building$=null,this._allAppartmentRowsSelected=g=>!!this.appartments,this._allLetterColumnSelected=g=>!!this.appartments}ngOnInit(){this.displayTable(this.buildingService.building??this.buildingService.buildings[0])}displayTable(n){if(!n)return;this.buildingFormGroup.controls.buildingControl.setValue(n.id),this.LETTERS_APPARTMENT=this.LETTERS_APPARTMENT.slice(0,this.LETTERS_APPARTMENT.indexOf(n.letter)+1),this.appartments=[];let i=0;for(;n.floors>i;)this.appartments.push(n.appartments.filter(o=>o.floor==i)),i++;this.deptoUpdateEvent.next(this.selectedAppartments),this.selectedAppartments=[],this.changeDetectorRef.detectChanges()}getAppartments(n=[]){if(this.buildingFormGroup.invalid)return;const i={buildingId:this.buildingFormGroup.controls.buildingControl.value};this.overlayService.displayLoadingOverlay(),this.loading=!0,this.appartmentService.getAppartments(i).pipe((0,J.s)(1),(0,Yt.j)(()=>{this.overlayService.hideLoadingOverlay(),this.loading=!1})).subscribe({next:o=>{if(this.loading=!1,0==o.appartments.length)this.snackBarService.open("No se encontraron departamentos para el edificio seleccionado","Aceptar",6e3,"warning-snackbar");else{this.LETTERS_APPARTMENT=this.LETTERS_APPARTMENT.slice(0,this.LETTERS_APPARTMENT.indexOf(o.letter)+1),this.appartments=[];let a=0;for(;o.floors>a;)this.appartments.push(o.appartments.filter(l=>l.floor==a)),a++;this.deptoUpdateEvent.next(this.selectedAppartments),this.selectedAppartments=[],this.changeDetectorRef.detectChanges()}},error:o=>{this.appartments=[],console.error(o)}})}handleDeptoSelected(n){n&&(this.selectedAppartments=this.selectedAppartments.filter(i=>!(i.floor==n.floor&&i.letter===n.letter)),this.deptoUpdateEvent.next(this.selectedAppartments),this.changeDetectorRef.detectChanges())}updateDateColumns(n,i){n.checked?this.selectedAppartments.push():this.selectedAppartments=Jt.l.removeDuplicate(this.selectedAppartments,"floor","letter",i),this.deptoUpdateEvent.next(this.selectedAppartments),this.changeDetectorRef.detectChanges()}updateDeptoRows(n,i){this.deptoUpdateEvent.next(this.selectedAppartments),this.changeDetectorRef.detectChanges()}openConfirmationDialog(){if(this.buildingFormGroup.invalid||this.selectedAppartments.length<1)return;let n="";this.selectedAppartments.sort((a,l)=>a.floor<l.floor?-1:a.floor>l.floor?1:0).forEach(a=>n+=`<br>${a.floor} ${a.letter}) - Edificio: ${a.building.address} -  ${a.building.location}`),this.matDialog.open(D.D,{width:"650px",data:{title:"Modificar departamento",message:`Esta seguro de que desea modificar los siguientes departamentos? ${n}`,color:"accent"}}).afterClosed().pipe((0,J.s)(1)).subscribe(a=>{a&&(this.overlayService.displayLoadingOverlay(),this.loading=!0)})}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(f.bZ),t.rXU(z),t.rXU(T.s),t.rXU(_.v),t.rXU(t.gRc),t.rXU(F))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-appartment-list"]],decls:16,vars:6,consts:[["tableLoader",""],["tableNoResult",""],[1,"filter-columns",3,"ngSubmit","formGroup"],["appearance","fill","color","warn"],["formControlName","buildingControl",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent","class","confirm-btn","appRoundButton","","type","button",3,"click",4,"ngIf"],[1,"table-container"],["mode","indeterminate",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"value"],["mat-flat-button","","color","accent","appRoundButton","","type","button",1,"confirm-btn",3,"click"],["mode","indeterminate"],["rowHeight","30px",1,"header-days",3,"cols"],["class","header-day-content",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"header-day-content"],["title","Asignados: 0 \xa0\xa0 Utilizados: 0 "],["rowHeight","175px",3,"cols"],[1,"firstCupo"],["class","cupos-block",3,"updateSource","appartment","letter","deptoSelectedEvent",4,"ngIf"],[1,"cupos-block",3,"deptoSelectedEvent","updateSource","appartment","letter"],[3,"backgroundColor","borderRadius","columns","rows",4,"ngIf","ngIfElse"],[3,"backgroundColor","borderRadius","columns","rows"],[1,"no-results"]],template:function(i,o){if(1&i){const a=t.RV6();t.j41(0,"header")(1,"h1"),t.EFF(2,"Departamentos"),t.k0s(),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return t.eBV(a),t.Njj(o.getAppartments())}),t.j41(4,"mat-form-field",3)(5,"mat-label"),t.EFF(6,"Edificio"),t.k0s(),t.j41(7,"mat-select",4),t.bIt("selectionChange",function(){return t.eBV(a),t.Njj(o.getAppartments())}),t.DNE(8,sn,2,2,"mat-option",5),t.k0s()(),t.DNE(9,cn,4,0,"button",6),t.k0s()(),t.j41(10,"main")(11,"div",7),t.DNE(12,ln,1,0,"mat-progress-bar",8)(13,gn,5,3,"div",9)(14,_n,3,2,"ng-template",null,0,t.C5r),t.k0s()()}if(2&i){const a=t.sdS(15);t.R7$(3),t.Y8G("formGroup",o.buildingFormGroup),t.R7$(5),t.Y8G("ngForOf",o.buildingService.buildings),t.R7$(),t.Y8G("ngIf",o.selectedAppartments.length>0&&!o.buildingFormGroup.invalid),t.R7$(3),t.Y8G("ngIf",o.loading),t.R7$(),t.Y8G("ngIf",o.appartments&&o.appartments.length>0)("ngIfElse",a)}},dependencies:[m.Sq,m.bT,X.wT,P.$z,H.B_,H.NS,O.An,b.rl,b.nJ,qt.HM,V.VO,r.qT,r.BC,r.cb,r.j4,r.JD,y.K,E.p,rn,K.D],styles:["header[_ngcontent-%COMP%]{padding:1.5em;box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}header[_ngcontent-%COMP%]   .filter-columns[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:100%}header[_ngcontent-%COMP%]   .filter-columns[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]:not(:last-child){margin-right:1rem}header[_ngcontent-%COMP%]   .filter-columns[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]{margin:15px}main[_ngcontent-%COMP%]{padding:10 1.5em;box-sizing:border-box;display:flex;flex-direction:row;align-items:center;justify-content:center}main[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{width:100%;padding-right:10px}main[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .firstCupo[_ngcontent-%COMP%]{font-size:1.2vw}main[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .cupos-block[_ngcontent-%COMP%]{padding:3px;width:-webkit-fill-available;height:-webkit-fill-available}main[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   .header-days[_ngcontent-%COMP%]{position:sticky!important;position:-webkit-sticky;top:4em!important;font-size:1.2vw;z-index:1}main[_ngcontent-%COMP%]   .header-days[_ngcontent-%COMP%]   .header-day-content[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin:-4px}main[_ngcontent-%COMP%]   .header-days[_ngcontent-%COMP%]   .header-day-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 5px}main[_ngcontent-%COMP%]   .mat-grid-list[_ngcontent-%COMP%]{margin-bottom:5px}"],changeDetection:0})}return e})();function Cn(e,s){1&e&&t.nrm(0,"app-buildings-list")}function Pn(e,s){1&e&&t.nrm(0,"app-appartment-list")}function On(e,s){1&e&&t.nrm(0,"app-client-list")}function Mn(e,s){1&e&&t.nrm(0,"app-product-list")}let vn=(()=>{class e{constructor(n){this.cargasService=n}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(S))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-cargas"]],decls:12,vars:1,consts:[["role","header",1,"header"],[3,"selectedTabChange"],["label","Edificio"],["label","Departamento"],["label","Clientes"],["label","Productos"]],template:function(i,o){if(1&i&&(t.j41(0,"main"),t.nrm(1,"div",0),t.j41(2,"mat-tab-group",1),t.bIt("selectedTabChange",function(l){return o.cargasService.tabIndex=l.index}),t.nrm(3,"mat-tab",2)(4,"mat-tab",3)(5,"mat-tab",4)(6,"mat-tab",5),t.k0s(),t.j41(7,"div"),t.DNE(8,Cn,1,0,"app-buildings-list")(9,Pn,1,0,"app-appartment-list")(10,On,1,0,"app-client-list")(11,Mn,1,0,"app-product-list"),t.k0s()()),2&i){let a;t.R7$(8),t.vxM(0===(a=o.cargasService.tabIndex)?8:1===a?9:2===a?10:3===a?11:-1)}},dependencies:[N.mq,N.T8,Mt,kt,Vt,bn],styles:["main[_ngcontent-%COMP%]{padding:1.5em}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-top:5px}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:18px}main[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{float:right}main[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{margin:10px auto;border-radius:8px;width:-webkit-fill-available;text-align:-webkit-center}main[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:10px auto;width:max-content}main[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{max-width:400px;margin-bottom:8px}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{display:grid;gap:.35rem;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin:1rem;border-radius:8px;padding:1rem}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .detail-step[_ngcontent-%COMP%]{align-items:flex-start!important}main[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   .detail-step[_ngcontent-%COMP%]   .empleado-information[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;width:100%;height:100%}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]{text-align:start;padding:20px}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   .title-space[_ngcontent-%COMP%]{padding-top:20px}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1em}main[_ngcontent-%COMP%]   .empleado-detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:30px}main[_ngcontent-%COMP%]   .observation-form-field[_ngcontent-%COMP%]{width:90vw;padding-left:3vw}main[_ngcontent-%COMP%]   .label-input[_ngcontent-%COMP%]{margin:40px!important}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]{min-width:25vh;min-height:25vh;margin-right:1rem;border-radius:10px}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25vh!important;height:25vh!important}main[_ngcontent-%COMP%]   .profile-image-container[_ngcontent-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{border-radius:.5em}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:right;margin:1em}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .actions-filters[_ngcontent-%COMP%]{margin-left:auto}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .actions-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .first-option[_ngcontent-%COMP%]     .mat-option-text{color:var(--color-text-fade)}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn-small[_ngcontent-%COMP%]     .mat-button-wrapper{height:30px}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:12px}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-flex{padding:5px 10px 0}main[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center}main[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{text-align:center}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;align-items:center;margin-bottom:1rem}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dash_card[_ngcontent-%COMP%]{width:-webkit-fill-available}main[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-outer-spin-button, main[_ngcontent-%COMP%]   input[matinput][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}main[_ngcontent-%COMP%]   input[matinput][type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0})}return e})();var xn=c(1838),yn=c(2008);let Fn=(()=>{class e{constructor(){this.updateAppartmentEventSource=new h.B,this.updateAppartmentEvent=this.updateAppartmentEventSource.asObservable()}updateTable(){this.updateAppartmentEventSource.next(!0)}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})(),Sn=(()=>{class e{constructor(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();const kn=[{path:"",component:vn}];let Tn=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({providers:[F,Sn,z,Fn,k,S],imports:[Z.G,x.iI.forChild(kn),Q.w,r.X1,W.Q,q.I,tt.g,nt.S,et.y,it.b,ot.v,xn.UserModule,yn.o]})}return e})()}}]);